<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Weaver / Trader Master</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

   <style>
    body {
        font-family: 'Segoe UI', sans-serif;
        min-height: 100vh;
        margin: 0;
        background:
            linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)),
            url("data:image/jpeg;base64,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");
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
    }

    /* ---------- NAVBAR ---------- */
    .navbar {
 background: linear-gradient(135deg, #1f2a30, #243840);
         box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        height: 80px;
    }

    .navbar-brand {
        font-weight: 600;
        font-size: 25px;
    }

    .nav-link {
        margin: 0 14px;
        font-size: 18px;
        font-weight: 600;
        color: #ffffff !important;
        position: relative;
    }

    .nav-link::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -6px;
        width: 0%;
        height: 2px;
        background: #39d98a;
        transition: 0.3s ease;
    }

    .nav-link:hover::after {
        width: 100%;
    }

    .btn-logout {
        border-radius: 20px;
        padding: 6px 18px;
        font-size: 18px;
        font-weight: 600;
    }

    /* ---------- PAGE LAYOUT ---------- */
    .page-container {
        max-width: 900px;
        margin: 45px auto;
        padding: 0 10px;
        color:white;
    }

    /* ---------- HEADER (SAME UI AS ROWS) ---------- */
    .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 28px;

        backdrop-filter: blur(8px);
        padding: 14px 18px;
        border-radius: 8px;   /* subtle like rows */
        box-shadow: 0 8px 22px rgba(0,0,0,0.25);
    }

    .page-header h2 {
        color: #ffffff;
        font-weight: 600;
        margin: 0;
    }

    /* ---------- BUTTONS ---------- */
    .btn-add {
        background: #39d98a;
        color: #000;
        font-weight: 600;
        border-radius: 20px;
        padding: 8px 18px;
        border: none;
    }

    .btn-add:hover {
        background: #2fbf78;
    }

    .btn-edit {
        background: #39d98a;
        color: #000;
        font-weight: 600;
        border-radius: 16px;
        padding: 4px 14px;
        border: none;
    }

    .btn-edit:hover {
        background: #2fbf78;
    }

    .btn-delete {
        background: #dc3545;
        color: #fff;
        font-weight: 600;
        border-radius: 16px;
        padding: 4px 14px;
        border: none;
    }

    .btn-delete:hover {
        background: #bb2d3b;
    }

    /* ---------- TABLE ---------- */
    .table {
        border-collapse: separate;
        border-spacing: 0 14px;
        color: #ffffff;
    }

    .table thead th {
        background: rgba(255,255,255,0.12);
        border: none;
        color:white;
    }

	
    /* ✅ ROW STYLE */
    .table tbody tr {
    background: rgba(255,255,255,0.12);
        backdrop-filter: blur(8px);
        border-radius:  px;                 /* ⬅️ reduced radius */
        transition: all 0.3s ease;          /* animation */
    }

    /* ✅ ROW HOVER ANIMATION */
    .table tbody tr:hover {
        box-shadow: 0 12px 30px rgba(0,0,0,0.45);
        transform: translateY(-2px);
    background: rgba(255,255,255,0.12);
    
    }

    .table tbody td {
        border: none;
        vertical-align: middle;
        padding: 16px 14px;
        color:white;
         background: rgba(255,255,255,0.12);
        
    }

    /* ---------- MODAL ---------- */
    .modal.fade .modal-dialog {
        transform: scale(0.9);
        transition: 0.3s ease;
    }

    .modal.show .modal-dialog {
        transform: scale(1);
    }
</style>

</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-dark px-3 d-flex justify-content-between">
    <span class="navbar-brand">ShreeGuru Software Solutions</span>

    <div class="d-flex align-items-center">
        <ul class="navbar-nav flex-row">
            <li class="nav-item"><a class="nav-link" href="/dashboard">Dashboard</a></li>
            <li class="nav-item"><a class="nav-link" href="/gen-bill">Create Job Contract</a></li>
            <li class="nav-item"><a class="nav-link" href="/report">Report</a></li>
        </ul>

        <form action="/logout" method="post" class="ms-3">
            <button class="btn btn-danger btn-logout">Logout</button>
        </form>
    </div>
</nav>

<!-- CONTENT -->
<div class="page-container">

    <div class="page-header">
        <h2>Weaver / Trader Master</h2>
        <a href="/weaver-trader/create" class="btn btn-add">+ Add New</a>
    </div>

    <table class="table text-center">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th style="width: 200px;">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="w : ${list}">
                <td th:text="${w.name}"></td>
                <td th:text="${w.type}"></td>
                <td>
                    <a th:href="@{/weaver-trader/edit/{id}(id=${w.id})}"
                       class="btn btn-edit btn-sm me-2">Edit</a>

                    <button class="btn btn-delete btn-sm"
                            th:attr="data-url=@{/weaver-trader/delete/{id}(id=${w.id})}"
                            onclick="openDeleteModal(this)">
                        Delete
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- DELETE MODAL -->
<div class="modal fade" id="deleteModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content text-center p-3">
            <h5 class="mb-3">Confirm Deletion</h5>
            <p class="text-muted">Are you sure you want to delete this record?</p>

            <form id="deleteForm" method="post">
                <div class="d-flex justify-content-center gap-3 mt-3">
                    <button type="submit" class="btn btn-danger">Yes, Delete</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
    const deleteForm = document.getElementById('deleteForm');

    function openDeleteModal(button) {
        deleteForm.action = button.getAttribute("data-url");
        deleteModal.show();
    }
</script>

</body>
</html>
